# Запись видео с экрана, со звуком генерируемым звуковой картой

Это решение для Windows:

[Video Screen Capture with Audio](https://www.codeproject.com/Tips/5291304/Video-Screen-Capture-with-Audio)

## Инструкции

Нужно скачать и распаковать последнюю версию FFMPeg. Заранее построенные релизы для Windows можно [найти на GitHub](https://github.com/BtbN/FFmpeg-Builds/releases).

Файл со скриптом [`video-capture.cmd`](https://SAKryukov.github.io/microtonal-fabric/article/video-production/video-capture.cmd) нужно сохранить в любой локальной директории Windows.

Файл `video-capture.cmd` нужно подредактировать: во второй строчке поправить положение файла "ffmpeg.exe" в соответствие с тем положением, где он находится послe распаковки FFMpeg.

Для записи видео нужно запустить `video-capture.cmd`, указав в командной строке имя выходного видео файла. Если не задать параметр, скрипт запросит имя файла (без расширения).

После того, как имя выходного файла определено, начнётся запись всего, что видно на экране (включая курсор мыши) и звука со звуковой карты.

Для окончания записи нужно закрыть окно, в котором исполняется `video-capture.cmd`. Видео будет записано в файл .mp4. Используются кодеки AAC и AVC. Для производства окончательного продукта, файл можно перекодировать с более хорошим сжатием, используя более продвинутуе кодеки и контейнер, при помощи того же FFMpeg.

По умолчанию, звук в видео записывается со звуковой карты. Можно переключиться на микрофон. См. инструкции в файле `video-capture.cmd` или [в статье](https://www.codeproject.com/Tips/5291304/Video-Screen-Capture-with-Audio). Эти инструкции также объясняют, как проверить и изменить настройки Windows, чтобы нужное устройство записи звука работало.